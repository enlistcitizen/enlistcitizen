jQuery('document').ready(function($){var timelineWrapper=$(".cool_timeline");timelineWrapper.each(function(){storySlideShow($(this));ctlStoryPopup($(this));ctlYearNavigation($(this))});if(timelineWrapper.hasClass('main-design-7')){$(".timeline-post").find("a[ref^='prettyPhoto']").on("click",function(){var id=$(this).attr("href");$(id).find(".ctl_info").find("iframe").css("width","100%")})}
ctlStoryAnimation();var ele_width=timelineWrapper.find('.timeline-content').find(".ctl_info").width();ele_width=ele_width-20;var value=ele_width
value*=1;var valueHeight=Math.round((value/4)*3);timelineWrapper.find('.full-width > iframe').height(valueHeight);function Utils(){}
Utils.prototype={constructor:Utils,isElementInView:function(element,fullyInView){var pageTop=$(window).scrollTop();var pageBottom=pageTop+$(window).height();var elementTop=parseInt($(element).offset().top)+200;var elementBottom=elementTop+parseInt($(element).height())-500;if(fullyInView===!0){return((pageTop<elementTop)&&(pageBottom>elementBottom))}else{return((elementTop<=pageBottom)&&(elementBottom>=pageTop))}}};var Utils=new Utils();function storySlideShow(container){container.find(".ctl_flexslider .slides").not('.slick-initialized').each(function(){$(this).find("a[class^='ctl_prettyPhoto']").prettyPhoto({social_tools:!1,show_title:!1});var autoplaySpeed=parseInt($(this).data('animationspeed'));var slideshow=$(this).data('slideshow');var animation=$(this).data('animation');$(this).slick({dots:!1,infinite:!1,arrows:!0,mobileFirst:!0,pauseOnHover:!0,slidesToShow:1,autoplay:slideshow,autoplaySpeed:autoplaySpeed,adaptiveHeight:!0,})})}
function ctlStoryPopup(timelineWrapper){timelineWrapper.find("a[class^='ctl_prettyPhoto']").prettyPhoto({social_tools:!1});timelineWrapper.find("a[rel^='ctl_prettyPhoto']").prettyPhoto({social_tools:!1});timelineWrapper.find("a[ref^='prettyPhoto']").prettyPhoto({social_tools:!1,show_title:!1,changepicturecallback:function(){ctlInitialize()},callback:function(){ctlUnInitialize()},})}
function ctlYearNavigation(timelineWrapper){var pagination=timelineWrapper.attr('data-pagination');var pagination_position=timelineWrapper.attr('data-pagination-position');var bull_cls='';var position='';if(pagination_position=="left"){bull_cls='section-bullets-left';position='left'}else if(pagination_position=="right"){bull_cls='section-bullets-right';position='right'}else if(pagination_position=="bottom"){bull_cls='section-bullets-bottom';position='bottom'}
timelineWrapper.each(function(index){var id=$(this).attr("id");if(id!==undefined){if(pagination=="yes"){$('body').sectionScroll({bulletsClass:bull_cls,sectionsClass:'scrollable-section',scrollDuration:1500,titles:!0,topOffset:2,easing:'',id:id,position:position,})}}});if(pagination=="yes"){$('.ctl-bullets-container').hide();timelineWrapper.each(function(){if(typeof $(this).attr("id")!==typeof undefined&&$(this).attr("id")!==!1){var id="#"+$(this).attr("id");var nav_id="#"+$(this).attr("id")+'-navi';$(nav_id).find('li').removeClass('active');var offset=$(id).offset();var t_height=$(id).height();$(window).scroll(function(){var isElementInView=Utils.isElementInView($(id),!1);if(isElementInView){$(nav_id).show()}else{$(nav_id).hide()}})}})}}
function ctlStoryAnimation(){$(".cooltimeline_cont").each(function(index){var timeline_id=$(this).attr('id');var animations=$("#"+timeline_id).attr("data-animations");if(animations!="none"){AOS.init({disable:'mobile',startEvent:'DOMContentLoaded',offset:75,delay:0,duration:750,easing:'ease-in-out-sine',mirror:!0,})}})}
function ctlInitialize(){$(".ctl_popup_slick .slides").each(function(){$(this).slick({dots:!1,infinite:!1,slidesToShow:1,autoplay:!1,autoplaySpeed:2000,adaptiveHeight:!0})})}
function ctlUnInitialize(){$(".ctl_popup_slick .slides").each(function(){$(this).slick('unslick')})}});jQuery(window).on('load',function($){var timeline_id=jQuery('.cooltimeline_cont').attr('id');var animations=jQuery("#"+timeline_id).attr("data-animations");if(animations!="none"){setTimeout(function(){AOS.refresh()},500)}})